---
http_interactions:
- request:
    method: post
    uri: https://chef.server/organizations/my-org-name/association_requests
    body:
      encoding: ASCII-8BIT
      string: '{"user":"test"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:52Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      Content-Length:
      - '15'
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 201
      message: Created
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:43 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '243'
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Location:
      - https://chef.server/organizations/my-org-name/association_requests/3d647087e731cedf791dcda135b20929
    body:
      encoding: UTF-8
      string: '{"uri":"https://chef.server/organizations/my-org-name/association_requests/3d647087e731cedf791dcda135b20929","organization_user":{"username":"pivotal"},"organization":{"name":"my-org-name"},"user":{"email":"test@test.com","first_name":"test"}}'
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:52 GMT
- request:
    method: put
    uri: https://chef.server/users/test/association_requests/3d647087e731cedf791dcda135b20929
    body:
      encoding: ASCII-8BIT
      string: '{"response":"accept"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:52Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      Content-Length:
      - '21'
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:44 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Content-Encoding:
      - gzip
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAAA22OwQ7CIBBE/2XPNCmtivRnyMquhgNg6PagTf9dQo3pweNk
        Xt7MCoFggpEuJ9NfDZtRe6a7sZo8oR7Pt6G3gwUFuTwSRq5wfHU1dC0pWGYu
        30J4lp3EFN4oISeYViB+FvYoXJekLKzgj2jbTVV/wNvqz+WQYkgOveTi2u0D
        un0AjPHFscoAAAA=
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:53 GMT
- request:
    method: get
    uri: https://chef.server/organizations/my-org-name/groups/users
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:53Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:44 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Content-Encoding:
      - gzip
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAAA6tWSkwuyS8qVrKKVirILMsvScxRitVRKi1OxRBLzslMzSsB
        qQQqSC/KLy0A6zJAAkZphsapKWmGSYZJaUlpaWZGxhZmIOPyi9LzEnNTlayU
        cit1gRxdME9HCSoIsQ1qKIpYLQDtA2fLoAAAAA==
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:54 GMT
- request:
    method: put
    uri: https://chef.server/organizations/my-org-name/groups/users
    body:
      encoding: ASCII-8BIT
      string: '{"groupname":"users","actors":{"users":["pivotal","test"],"groups":["0000000000002f13edf1b1bfbff62386"]}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:54Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      Content-Length:
      - '105'
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Content-Encoding:
      - gzip
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAAA6tWSi/KLy3IS8xNVbJSKi1OLSpW0lFKTC7JBzKsqqEiVtFK
        BZll+SWJOUDJktTiEqVYHYhGoKJoJQMkYJRmaJyakmaYZJiUlpSWZmZkbGGm
        FFtbCwDef8L4aQAAAA==
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:54 GMT
- request:
    method: get
    uri: https://chef.server/organizations/my-org-name/groups/admins
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:54Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Content-Encoding:
      - gzip
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAAA6tWSkwuyS8qVrKKVirILMsvScxRitVRKi1OxRBLzslMzSsB
        qQQqSC/KLy2AsvOL0vMSc1OVrJRyK3WBHF0wT0cJKpiYkpuZVwzkg/WgCtYC
        AOiSGBqAAAAA
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:54 GMT
- request:
    method: put
    uri: https://chef.server/organizations/my-org-name/groups/admins
    body:
      encoding: ASCII-8BIT
      string: '{"groupname":"admins","actors":{"users":["pivotal","test"],"groups":[]}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      X-Ops-Sign:
      - algorithm=sha1;version=1.0;
      X-Ops-Userid: pivotal
      X-Ops-Timestamp:
      - '2015-04-27T18:45:54Z'
      X-Ops-Content-Hash:
      - "{{X-Ops-Content-Hash}}"
      X-Ops-Authorization-1:
      - "{{X-Ops-Authorization-1}}"
      X-Ops-Authorization-2:
      - "{{X-Ops-Authorization-2}}"
      X-Ops-Authorization-3:
      - "{{X-Ops-Authorization-3}}"
      X-Ops-Authorization-4:
      - "{{X-Ops-Authorization-4}}"
      X-Ops-Authorization-5:
      - "{{X-Ops-Authorization-5}}"
      X-Ops-Authorization-6:
      - "{{X-Ops-Authorization-6}}"
      Host:
      - chef.server:443
      X-Remote-Request-Id:
      - e057c96b-535d-4eab-ac1c-6741ff4007c1
      Content-Length:
      - '72'
      X-Chef-Version:
      - 12.2.1
      User-Agent:
      - Chef Client/12.2.1 (ruby-2.1.4-p265; ohai-8.2.0; x86_64-darwin12.0; +http://opscode.com)
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - ngx_openresty/1.4.3.6
      Date:
      - Mon, 27 Apr 2015 18:45:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ops-Api-Info:
      - flavor=cs;version=12.0.0;oc_erchef=1.5.0
      Content-Encoding:
      - gzip
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAAA6tWSi/KLy3IS8xNVbJSSkzJzcwrVtJRSkwuyS8qVrKqViot
        TgUxopUKMsvySxJzgJIlqcUlSrE6EJ0gudjaWgAd+XRmSAAAAA==
    http_version:
  recorded_at: Mon, 27 Apr 2015 18:45:55 GMT
recorded_with: VCR 2.9.3
